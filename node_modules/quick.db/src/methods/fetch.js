// Require Packages
const get = require('lodash/get');

module.exports = function(db, params, options) {
  
  // Fetch Entry
  let fetch = db.prepare(`SELECT * FROM ${options.table} WHERE ID = (?)`).get(params.id);
  if (!fetch) return null; // If empty, return null
  fetch = JSON.parse(fetch.json)
  
  // Check if target was supplied
  if (params.ops.target) fetch = get(fetch, params.ops.target); // Get prop using dot notation
  
  // Return data
  return fetch;
  
}
